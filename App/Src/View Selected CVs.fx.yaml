"'View Selected CVs' As screen":
    OnVisible: |-
        =// create a separate collection that maps projects to their CVs.
        
        /*
        ForAll(FinalFilteredCVs As _CV,
            Collect(
                CVsWithProjects,
                {
                    CV: _CV,
                    Projects: FirstN(
                        SortByColumns(
                            Filter('CV Generator - Project Experience', Email = _CV.Email),
                            "End Date", SortOrder.Descending
                        ),
                        3
                    )
                }
            )
        )
        */

    GalleryCandidateView As gallery.galleryVertical:
        DelayItemLoading: =true
        Height: =647
        Items: =FinalFilteredCVs
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplateSize: =634
        Width: =1337
        X: =11
        Y: =89
        ZIndex: =2

        "'Container - CandidateCVTemplate' As groupContainer":
            Fill: =RGBA(255, 255, 255, 1)
            Height: =615
            Width: =1265
            X: =15
            Y: =10
            ZIndex: =3

            ButtonBackgroundLeftPanelView As rectangle:
                Fill: =RGBA(39, 41, 54, 1)
                Height: =615
                Width: =296
                ZIndex: =1

            ImageCandidateProfilePic1 As image:
                Image: =ThisItem.Photo
                RadiusBottomLeft: =50  
                RadiusBottomRight: =50
                RadiusTopLeft: =50
                RadiusTopRight: =50
                X: =98
                Y: =56
                ZIndex: =3

            ButtonBackgroundPE As button:
                Align: =Align.Left
                DisabledColor: =RGBA(255, 255, 255, 1)
                DisabledFill: =RGBA(39, 41, 54, 1)
                DisplayMode: =DisplayMode.Disabled
                Height: =34
                Text: ="Recent Professional Experience"
                Width: =856
                X: =328
                ZIndex: =4

            ButtonBackgroundSkills As button:
                Align: =Align.Left
                DisabledColor: =RGBA(255, 255, 255, 1)
                DisabledFill: =RGBA(39, 41, 54, 1)
                DisplayMode: =DisplayMode.Disabled
                Height: =38
                Text: ="Skills"
                Width: =450
                X: =328
                Y: =456
                ZIndex: =5

            "'Label - CandidateCapability&Hub' As label":
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                Font: =Font.Verdana
                Height: =35
                Size: =11
                Text: =ThisItem.Capability & " - " & ThisItem.Hub
                Width: =277
                X: =11
                Y: =179
                ZIndex: =11

            "'Label - CandidateProfile1' As label":
                Color: =RGBA(255, 255, 255, 1)
                Font: =Font.Verdana
                Height: =210
                PaddingBottom: =2
                PaddingTop: =2
                Size: =10
                Text: =ThisItem.Profile
                VerticalAlign: =VerticalAlign.Top
                Width: =277
                X: =11
                Y: =352
                ZIndex: =12

            "'Label - CandidateGrade1' As label":
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                Font: =Font.Verdana
                Height: =35
                Text: =ThisItem.Grade
                Width: =277
                X: =9
                Y: =214
                ZIndex: =13

            "'Label - CandidateSelectedEducation' As label":
                Color: =RGBA(255, 255, 255, 1)
                Font: =Font.Verdana
                Height: =60
                Size: =10
                Text: |-
                    =//FirstN(Split(ThisItem.Education,";"),2)
                    
                    ThisItem.Education
                Width: =277
                X: =6
                Y: =267
                ZIndex: =14

            CheckboxCandidateBPSS As checkbox:
                CheckboxSize: =25
                CheckmarkFill: =RGBA(39, 41, 54, 1)
                Color: =RGBA(255, 255, 255, 1)
                Default: =ThisItem.'Security Clearance BPSS'
                DisplayMode: =DisplayMode.View
                Height: =44
                Size: =11
                Text: ="BPSS"
                Width: =114
                X: =61
                Y: =562
                ZIndex: =15

            CheckboxCandidateSC As checkbox:
                CheckboxSize: =25
                CheckmarkFill: =RGBA(39, 41, 54, 1)
                Color: =RGBA(255, 255, 255, 1)
                Default: =ThisItem.'Security Clearance SC'
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(255, 255, 255, 1)
                DisplayMode: =DisplayMode.View
                Height: =44
                HoverBorderColor: =
                HoverFill: =
                PressedBorderColor: =
                PressedFill: =
                Size: =11
                Text: ="SC"
                Width: =114
                X: =155
                Y: =562
                ZIndex: =16

            ImageCapIconInCV As image:
                Height: =34
                Image: ='Logo Blue'
                Width: =48
                X: =1196
                ZIndex: =17

            "'Label - CandidateName1' As label":
                Align: =Align.Center
                Color: =RGBA(255, 255, 255, 1)
                Font: =Font.Verdana
                FontWeight: =FontWeight.Semibold
                Height: =35
                Text: =ThisItem.'First Name' & " " & ThisItem.'Last Name'
                Width: =277
                X: =9
                Y: =19
                ZIndex: =18

            "'Label - CandidateEducation' As label":
                Color: =RGBA(255, 255, 255, 1)
                Font: =Font.Verdana
                FontWeight: =FontWeight.Semibold
                Height: =25
                Size: =11
                Text: ="Education"
                Width: =119
                X: =6
                Y: =253
                ZIndex: =20

            "'Label - CandidateProfile' As label":
                Color: =RGBA(255, 255, 255, 1)
                Font: =Font.Verdana
                FontWeight: =FontWeight.Semibold
                Height: =25
                Size: =11
                Text: ="Profile"
                Width: =119
                X: =9
                Y: =327
                ZIndex: =21

            GalleryCandidatePE As gallery.galleryVertical:
                DelayItemLoading: =true
                Height: =420
                Items: |-
                    =FirstN(
                        Filter(
                            'CV Generator - Project Experience',
                            Email = ThisItem.Email
                        ),
                        3
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                ShowScrollbar: =false
                TemplateSize: =(420/3)-7
                Width: =929
                X: =328
                Y: =34
                ZIndex: =22

                "'Label - ProjectName' As label":
                    FontWeight: =FontWeight.Bold
                    Height: =24
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.'Project Title'
                    Width: =716
                    ZIndex: =1

                "'Label - ProjectDates' As label":
                    FontWeight: =FontWeight.Bold
                    Height: =24
                    OnSelect: =Select(Parent)
                    Text: =ThisItem.'Start Date' & " - " & ThisItem.'End Date'
                    Width: =203
                    X: =716
                    ZIndex: =2

                "'Label - ProjectDescription' As label":
                    Height: =84
                    OnSelect: =Select(Parent)
                    Size: =10
                    Text: =ThisItem.'Project Description'
                    VerticalAlign: =VerticalAlign.Top
                    Width: =919
                    Y: =48
                    ZIndex: =3

                "'Label - ProjectClient&Role' As label":
                    FontWeight: =FontWeight.Bold
                    Height: =24
                    OnSelect: =Select(Parent)
                    Size: =10
                    Text: =ThisItem.'Project Client' & ", " & ThisItem.'Project Role'
                    Width: =716
                    Y: =24
                    ZIndex: =4

            GalleryCandidateQualifications As gallery.galleryVertical:
                DelayItemLoading: =true
                Height: =120
                Items: |-
                    =FirstN(
                        Split(
                            ThisItem.QualificationsString,
                            ","
                        ),
                        6
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplateSize: |
                    =30
                Width: =462
                WrapCount: =2
                X: =794
                Y: =498
                ZIndex: =23

                "'Lable - CandidateQualification' As label":
                    Height: =34
                    OnSelect: =Select(Parent)
                    Size: =10
                    Text: ="• " & ThisItem.Value
                    Width: =234
                    ZIndex: =1

            ButtonBackgroundQual As button:
                Align: =Align.Left
                DisabledColor: =RGBA(255, 255, 255, 1)
                DisabledFill: =RGBA(39, 41, 54, 1)
                DisplayMode: =DisplayMode.Disabled
                Height: =38
                Text: ="Qualifications"
                Width: =450
                X: =794
                Y: =456
                ZIndex: =24

            GalleryCandidateSkill As gallery.galleryVertical:
                DelayItemLoading: =true
                Height: =117
                Items: |-
                    =FirstN(
                        Split(
                            ThisItem.SkillsString,
                            ","
                        ),
                        6
                    )
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplateSize: =32
                Width: =449
                WrapCount: =2
                X: =329
                Y: =498
                ZIndex: =25

                "'Label - CandidateSkill' As label":
                    Height: =30
                    OnSelect: =Select(Parent)
                    Size: =10
                    Text: ="• " & ThisItem.Value
                    Width: =201
                    X: =4
                    ZIndex: =1

        IconCancelVSCV As icon.CancelBadge:
            Color: =RGBA(39, 41, 54, 1)
            Height: =47
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =Remove(FinalFilteredCVs, ThisItem);
                
                /*
                ClearCollect(ProjectsOfThisUser,
                    Filter(
                        'CV Generator - Project Experience',
                        Email = User().Email
                    )
                );
                */
            Width: =27
            X: =1292
            Y: =297
            ZIndex: =4

    RectangleBackgroundTopVSCV As rectangle:
        Fill: =RGBA(39, 41, 54, 1)
        Height: =96
        Width: =1366
        ZIndex: =3

    "'Label - ViewCandidateCVTitle' As label":
        Color: =RGBA(255, 255, 255, 1)
        Font: =Font.Verdana
        FontWeight: =FontWeight.Semibold
        Height: =43
        Size: =24
        Text: ="View Candidate CVs"
        Width: =513
        X: =98
        Y: =26
        ZIndex: =4

    IconPDFVSCV As icon.DocumentPDF:
        Color: =RGBA(39, 41, 54, 1)
        Height: =37
        Icon: =Icon.DocumentPDF
        OnSelect: |-
            =Set(VarCandidatesPDF,PDF( GalleryCandidateView,{ExpandContainers: true, Orientation:PaperOrientation.Landscape, Size:PaperSize.A4, Margin:"128px 0px 128px 0px" }));
            Navigate('PDF Preview')
        Width: =49
        X: =1299
        Y: =717
        ZIndex: =5

    IconViewVSCV As icon.View:
        Color: =RGBA(255, 255, 255, 1)
        Height: =65
        Icon: =Icon.View
        Width: =47
        X: =34
        Y: =15
        ZIndex: =6

    ImageCapIconVSCV As image:
        Height: =60
        Image: ='Logo Blue'
        Width: =52
        X: =1288
        Y: =29
        ZIndex: =7

    IconHomeVSCV As icon.Home:
        Color: =RGBA(255, 255, 255, 1)
        Height: =60
        Icon: =Icon.Home
        OnSelect: =Navigate(Home)
        Width: =52
        X: =1221
        Y: =30
        ZIndex: =8

    ButtonBackVSCV As button:
        Fill: =RGBA(39, 41, 54, 1)
        Height: =25
        OnSelect: =Navigate(Search)
        Size: =13
        Text: ="Back to search"
        Width: =148
        X: =34
        Y: =729
        ZIndex: =9

